[1mdiff --git a/.gitignore b/.gitignore[m
[1mindex 19936a2..b28ca52 100644[m
[1m--- a/.gitignore[m
[1m+++ b/.gitignore[m
[36m@@ -7,8 +7,55 @@[m [mbuild/[m
 dist/[m
 *.egg-info/[m
 [m
[32m+[m[32m# GaussianTalkerè®­ç»ƒè¾“å‡ºï¼ˆå¤§æ–‡ä»¶ï¼Œä¸ä¸Šä¼ ï¼‰[m
[32m+[m[32mGaussianTalker/data/[m
[32m+[m[32mGaussianTalker/output/[m
[32m+[m[32mGaussianTalker/.cache/[m
[32m+[m
[32m+[m[32m# SyncTalkè®­ç»ƒè¾“å‡º[m
 SyncTalk/SyncTalk/[m
[32m+[m[32mSyncTalk/model/[m
[32m+[m[32mSyncTalk/checkpoints/[m
 [m
[32m+[m[32m# å…¶ä»–æ¨¡å—[m
 GPT-SoVITS/[m
 [m
[31m-test_data/[m
\ No newline at end of file[m
[32m+[m[32m# æµ‹è¯•æ•°æ®[m
[32m+[m[32mtest_data/[m
[32m+[m
[32m+[m[32m# æ¨¡å‹æ–‡ä»¶ï¼ˆå¤§æ–‡ä»¶ï¼‰[m
[32m+[m[32m*.pth[m
[32m+[m[32m*.ckpt[m
[32m+[m[32m*.pt[m
[32m+[m[32m*.ply[m
[32m+[m
[32m+[m[32m# è§†é¢‘å’ŒéŸ³é¢‘ï¼ˆå¤§æ–‡ä»¶ï¼‰[m
[32m+[m[32m*.mp4[m
[32m+[m[32m*.avi[m
[32m+[m[32m*.wav[m
[32m+[m[32m*.mp3[m
[32m+[m
[32m+[m[32m# æ•°æ®æ–‡ä»¶[m
[32m+[m[32m*.npy[m
[32m+[m[32m*.mat[m
[32m+[m[32m*.h5[m
[32m+[m
[32m+[m[32m# è®­ç»ƒæ—¥å¿—[m
[32m+[m[32m*.log[m
[32m+[m[32mwandb/[m
[32m+[m
[32m+[m[32m# ç”Ÿæˆçš„è§†é¢‘[m
[32m+[m[32mstatic/videos/*.mp4[m
[32m+[m[32mstatic/audios/*.wav[m
[32m+[m
[32m+[m[32m# ç³»ç»Ÿæ–‡ä»¶[m
[32m+[m[32m.DS_Store[m
[32m+[m[32mThumbs.db[m
[32m+[m
[32m+[m[32m# IDE[m
[32m+[m[32m.vscode/[m
[32m+[m[32m.idea/[m
[32m+[m[32m*.swp[m
[32m+[m[32m*.swo[m
[32m+[m
[32m+[m[32mtesttt/[m
\ No newline at end of file[m
[1mdiff --git a/GaussianTalker/.dockerignore b/GaussianTalker/.dockerignore[m
[1mindex 23a2f7e..88c3a8c 100644[m
[1m--- a/GaussianTalker/.dockerignore[m
[1m+++ b/GaussianTalker/.dockerignore[m
[36m@@ -14,3 +14,5 @@[m [m__pycache__/[m
 *.pth[m
 *.ply[m
 [m
[41m+[m
[41m+[m
[1mdiff --git a/GaussianTalker/.gitignore b/GaussianTalker/.gitignore[m
[1mindex fc059b3..60ef1f2 100644[m
[1m--- a/GaussianTalker/.gitignore[m
[1m+++ b/GaussianTalker/.gitignore[m
[36m@@ -16,3 +16,4 @@[m [mwandb/[m
 [m
 render_orig.py[m
 [m
[32m+[m[32mtesttt/[m
\ No newline at end of file[m
[1mdiff --git a/GaussianTalker/Dockerfile b/GaussianTalker/Dockerfile[m
[1mdeleted file mode 100644[m
[1mindex 7dd17a2..0000000[m
[1m--- a/GaussianTalker/Dockerfile[m
[1m+++ /dev/null[m
[36m@@ -1,63 +0,0 @@[m
[31m-FROM nvidia/cuda:11.3.1-cudnn8-devel-ubuntu20.04[m
[31m-[m
[31m-# è®¾ç½®ç¯å¢ƒå˜é‡[m
[31m-ENV PYTHON_VERSION=3.7 \[m
[31m-    PYTHONUNBUFFERED=1 \[m
[31m-    DEBIAN_FRONTEND=noninteractive \[m
[31m-    TZ=Asia/Shanghai \[m
[31m-    TORCH_CUDA_ARCH_LIST="6.0 6.1 7.0 7.5 8.0 8.6+PTX" \[m
[31m-    PYTHONPATH=/GaussianTalker[m
[31m-[m
[31m-# å®‰è£…ç³»ç»Ÿä¾èµ–[m
[31m-RUN ln -fs /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \[m
[31m-    apt-get update && apt-get install -y \[m
[31m-    build-essential \[m
[31m-    cmake \[m
[31m-    g++ \[m
[31m-    gcc \[m
[31m-    python3.7 \[m
[31m-    python3.7-dev \[m
[31m-    python3-pip \[m
[31m-    python3.7-venv \[m
[31m-    python3-tk \[m
[31m-    tk-dev \[m
[31m-    ffmpeg \[m
[31m-    libsm6 \[m
[31m-    libxext6 \[m
[31m-    libxrender-dev \[m
[31m-    libgl1-mesa-glx \[m
[31m-    git \[m
[31m-    wget \[m
[31m-    curl \[m
[31m-    unzip \[m
[31m-    portaudio19-dev \[m
[31m-    libgomp1 \[m
[31m-    && update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.7 1 \[m
[31m-    && update-alternatives --install /usr/bin/python python /usr/bin/python3.7 1 \[m
[31m-    && python3 -m pip install --upgrade pip \[m
[31m-    && apt-get clean \[m
[31m-    && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*[m
[31m-[m
[31m-# è®¾ç½®å·¥ä½œç›®å½•[m
[31m-WORKDIR /GaussianTalker[m
[31m-[m
[31m-# å¤åˆ¶é¡¹ç›®æ–‡ä»¶[m
[31m-COPY . .[m
[31m-[m
[31m-# å…‹éš†é¢„è®­ç»ƒæ¨¡å‹ï¼Œé¿å…æ¯æ¬¡å¯åŠ¨å®¹å™¨é‡æ–°ä¸‹è½½[m
[31m-COPY ./.cache/torch/hub/checkpoints /root/.cache/torch/hub/checkpoints[m
[31m-[m
[31m-# å®‰è£…æ‰€æœ‰Pythonä¾èµ–[m
[31m-RUN pip install torch==1.13.1+cu117 torchvision==0.14.1+cu117 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu117 && \[m
[31m-    pip install -r requirements.txt && \[m
[31m-    pip install "git+https://github.com/facebookresearch/pytorch3d.git" && \[m
[31m-    pip install tensorflow-gpu==2.8.0 && \[m
[31m-    pip install --upgrade "protobuf<=3.20.1" && \[m
[31m-    pip install -e submodules/custom-bg-depth-diff-gaussian-rasterization && \[m
[31m-    pip install -e submodules/simple-knn && \[m
[31m-    rm -rf ./.cache/ && \[m
[31m-    pip cache purge[m
[31m-[m
[31m-# é»˜è®¤å‘½ä»¤[m
[31m-CMD ["python", "--help"][m
[31m-[m
[1mdiff --git "a/GaussianTalker/GaussianTalker_Docker\350\260\203\347\224\250\350\257\264\346\230\216.md" "b/GaussianTalker/GaussianTalker_Docker\350\260\203\347\224\250\350\257\264\346\230\216.md"[m
[1mindex 4736e23..bd5a3a3 100644[m
[1m--- "a/GaussianTalker/GaussianTalker_Docker\350\260\203\347\224\250\350\257\264\346\230\216.md"[m
[1m+++ "b/GaussianTalker/GaussianTalker_Docker\350\260\203\347\224\250\350\257\264\346\230\216.md"[m
[36m@@ -302,3 +302,5 @@[m [mA: ä½¿ç”¨`data_utils/deepspeech_features/extract_ds_features.py`è„šæœ¬æå–éŸ³[m
 [m
 GaussianTalkeré‡‡ç”¨éå•†ä¸šç ”ç©¶è®¸å¯è¯ã€‚è¯¦è§LICENSE.mdã€‚[m
 [m
[41m+[m
[41m+[m
[1mdiff --git "a/GaussianTalker/GaussianTalker_\345\256\236\346\226\275\346\214\207\345\215\227.md" "b/GaussianTalker/GaussianTalker_\345\256\236\346\226\275\346\214\207\345\215\227.md"[m
[1mnew file mode 100644[m
[1mindex 0000000..21dff7c[m
[1m--- /dev/null[m
[1m+++ "b/GaussianTalker/GaussianTalker_\345\256\236\346\226\275\346\214\207\345\215\227.md"[m
[36m@@ -0,0 +1,725 @@[m
[32m+[m[32m# GaussianTalker å¾®è°ƒã€ä¼˜åŒ–ã€è®­ç»ƒ - å®æ–½æŒ‡å—[m
[32m+[m
[32m+[m[32m> æœ¬æ–‡æ¡£ä¸ºGaussianTalkeræ¨¡å‹çš„å¾®è°ƒã€ä¼˜åŒ–ã€è®­ç»ƒå·¥ä½œæä¾›è¯¦ç»†çš„å®æ–½æŒ‡å—å’Œæœ€ä½³å®è·µã€‚[m
[32m+[m
[32m+[m[32m---[m
[32m+[m
[32m+[m[32m## ğŸ“‹ ä»»åŠ¡æ¸…å•[m
[32m+[m
[32m+[m[32mæ ¹æ®åˆ†å·¥æŒ‡å¼•ï¼Œæœ¬éƒ¨åˆ†çš„ä¸»è¦ä»»åŠ¡åŒ…æ‹¬ï¼š[m
[32m+[m
[32m+[m[32m- [x] âœ… **åŸºç¡€æ¡†æ¶å·²å®Œæˆ** - æ‰€æœ‰ä»£ç æ–‡ä»¶å·²å°±ä½[m
[32m+[m[32m- [ ] â³ **Dockeré•œåƒæ„å»ºå’Œæµ‹è¯•**[m[41m [m
[32m+[m[32m- [ ] â³ **ä¸‹è½½å¹¶é…ç½®é¢„è®­ç»ƒæ¨¡å‹ï¼ˆBFMç­‰ï¼‰**[m
[32m+[m[32m- [ ] â³ **ä½¿ç”¨æµ‹è¯•æ•°æ®å®Œæ•´è®­ç»ƒæµç¨‹**[m
[32m+[m[32m- [ ] â³ **æ¨¡å‹è°ƒè¯•å’Œå‚æ•°ä¼˜åŒ–**[m
[32m+[m[32m- [ ] â³ **æ¢ç´¢æ€§æ”¹è¿›**[m
[32m+[m[32m- [ ] â³ **åç«¯æ¥å£æµ‹è¯•å’Œå¾®è°ƒ**[m
[32m+[m
[32m+[m[32m---[m
[32m+[m
[32m+[m[32m## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ5æ­¥èµ°ï¼‰[m
[32m+[m
[32m+[m[32m### ç¬¬1æ­¥ï¼šç¯å¢ƒå‡†å¤‡[m
[32m+[m
[32m+[m[32m#### 1.1 æ£€æŸ¥ç³»ç»Ÿè¦æ±‚[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# æ£€æŸ¥NVIDIAé©±åŠ¨å’ŒCUDA[m
[32m+[m[32mnvidia-smi[m
[32m+[m
[32m+[m[32m# æ£€æŸ¥Docker[m
[32m+[m[32mdocker --version[m
[32m+[m
[32m+[m[32m# æ£€æŸ¥ç£ç›˜ç©ºé—´ï¼ˆè‡³å°‘50GBç©ºé—²ï¼‰[m
[32m+[m[32mdf -h[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m**æœ€ä½é…ç½®**ï¼š[m
[32m+[m[32m- GPU: NVIDIA RTX 3090 æˆ–æ›´é«˜ï¼ˆ12GB+ VRAMï¼‰[m
[32m+[m[32m- å†…å­˜: 16GB+ RAM[m
[32m+[m[32m- å­˜å‚¨: 50GB+ å¯ç”¨ç©ºé—´[m
[32m+[m[32m- CUDA: 11.3+[m
[32m+[m[32m- Docker: 20.10+[m
[32m+[m
[32m+[m[32m#### 1.2 è®¾ç½®å·¥ä½œç›®å½•[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32mcd TFG_ui_GaussianTalker/GaussianTalker[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m### ç¬¬2æ­¥ï¼šä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹[m
[32m+[m
[32m+[m[32m#### 2.1 è‡ªåŠ¨ä¸‹è½½è„šæœ¬[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# æ‰§è¡Œè‡ªåŠ¨ä¸‹è½½è„šæœ¬[m
[32m+[m[32mchmod +x download_pretrained.sh[m
[32m+[m[32m./download_pretrained.sh[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32mè¯¥è„šæœ¬ä¼šè‡ªåŠ¨ä¸‹è½½ï¼š[m
[32m+[m[32m- âœ… HubertéŸ³é¢‘ç‰¹å¾æ¨¡å‹[m
[32m+[m[32m- âœ… Wav2VecéŸ³é¢‘æ¨¡å‹[m
[32m+[m[32m- âœ… äººè„¸è§£ææ¨¡å‹[m
[32m+[m[32m- âœ… å…¶ä»–é¢„è®­ç»ƒæƒé‡[m
[32m+[m
[32m+[m[32m#### 2.2 æ‰‹åŠ¨ä¸‹è½½BFMæ¨¡å‹ï¼ˆå¿…éœ€ï¼‰[m
[32m+[m
[32m+[m[32m**é‡è¦**: BFMæ¨¡å‹éœ€è¦æ‰‹åŠ¨ä¸‹è½½ï¼Œå› ä¸ºéœ€è¦æ³¨å†Œè´¦å·ã€‚[m
[32m+[m
[32m+[m[32m1. è®¿é—® [Basel Face Modelå®˜ç½‘](https://faces.dmi.unibas.ch/bfm/bfm2019.html)[m
[32m+[m[32m2. æ³¨å†Œè´¦å·å¹¶ä¸‹è½½ `01_MorphableModel.mat`[m
[32m+[m[32m3. å°†æ–‡ä»¶æ”¾ç½®åˆ°ï¼š`data_utils/face_tracking/3DMM/01_MorphableModel.mat`[m
[32m+[m
[32m+[m[32m**éªŒè¯æ–‡ä»¶**ï¼š[m
[32m+[m[32m```bash[m
[32m+[m[32m# æ£€æŸ¥BFMæ¨¡å‹æ˜¯å¦å­˜åœ¨[m
[32m+[m[32mls -lh data_utils/face_tracking/3DMM/01_MorphableModel.mat[m
[32m+[m
[32m+[m[32m# åº”è¯¥çœ‹åˆ°çº¦240MBçš„æ–‡ä»¶[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m#### 2.3 éªŒè¯é¢„è®­ç»ƒæ¨¡å‹[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# æ£€æŸ¥æ‰€æœ‰é¢„è®­ç»ƒæ¨¡å‹æ˜¯å¦å°±ä½[m
[32m+[m[32mpython -c "[m
[32m+[m[32mimport os[m
[32m+[m[32mmodels = [[m
[32m+[m[32m    'data_utils/face_tracking/3DMM/01_MorphableModel.mat',[m
[32m+[m[32m    '.cache/torch/hub/checkpoints/79999_iter.pth',[m
[32m+[m[32m][m
[32m+[m[32mfor m in models:[m
[32m+[m[32m    exists = 'âœ“' if os.path.exists(m) else 'âœ—'[m
[32m+[m[32m    print(f'{exists} {m}')[m
[32m+[m[32m"[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m### ç¬¬3æ­¥ï¼šæ„å»ºDockeré•œåƒ[m
[32m+[m
[32m+[m[32m#### 3.1 å‡†å¤‡æ„å»º[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# ç¡®ä¿å½“å‰åœ¨GaussianTalkerç›®å½•[m
[32m+[m[32mcd TFG_ui_GaussianTalker/GaussianTalker[m
[32m+[m
[32m+[m[32m# æ£€æŸ¥Dockerfile[m
[32m+[m[32mcat Dockerfile[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m#### 3.2 å¼€å§‹æ„å»ºï¼ˆé¢„è®¡30-60åˆ†é’Ÿï¼‰[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# æ„å»ºé•œåƒ[m
[32m+[m[32mdocker build -t gaussiantalker:latest .[m
[32m+[m
[32m+[m[32m# ç›‘æ§æ„å»ºè¿‡ç¨‹[m
[32m+[m[32m# å¦‚æœæ„å»ºå¤±è´¥ï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m**æ„å»ºä¼˜åŒ–å»ºè®®**ï¼š[m
[32m+[m[32m- ä½¿ç”¨å›½å†…é•œåƒæºåŠ é€Ÿï¼ˆå·²åœ¨Dockerfileä¸­é…ç½®ï¼‰[m
[32m+[m[32m- ç¡®ä¿ç½‘ç»œç¨³å®š[m
[32m+[m[32m- é¢„ç•™è¶³å¤Ÿç£ç›˜ç©ºé—´ï¼ˆçº¦15GBï¼‰[m
[32m+[m
[32m+[m[32m#### 3.3 éªŒè¯é•œåƒ[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# æ£€æŸ¥é•œåƒæ˜¯å¦æ„å»ºæˆåŠŸ[m
[32m+[m[32mdocker images | grep gaussiantalker[m
[32m+[m
[32m+[m[32m# æµ‹è¯•é•œåƒ[m
[32m+[m[32mdocker run --rm gaussiantalker:latest python --version[m
[32m+[m[32m# åº”è¾“å‡º: Python 3.7.x[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m### ç¬¬4æ­¥ï¼šå‡†å¤‡æµ‹è¯•æ•°æ®[m
[32m+[m
[32m+[m[32m#### 4.1 æµ‹è¯•è§†é¢‘è¦æ±‚[m
[32m+[m
[32m+[m[32m**ç†æƒ³æµ‹è¯•è§†é¢‘ç‰¹å¾**ï¼š[m
[32m+[m[32m- ğŸ“¹ **åˆ†è¾¨ç‡**: 1080p (1920x1080) æˆ– 720p (1280x720)[m
[32m+[m[32m- â±ï¸ **æ—¶é•¿**: 3-5åˆ†é’Ÿ[m
[32m+[m[32m- ğŸ‘¤ **å†…å®¹**: å•äººæ­£é¢è¯´è¯ï¼Œè¡¨æƒ…ä¸°å¯Œ[m
[32m+[m[32m- ğŸ’¡ **å…‰ç…§**: ç¨³å®šã€å……è¶³ã€å‡åŒ€[m
[32m+[m[32m- ğŸ¬ **èƒŒæ™¯**: å¹²å‡€ã€å¯¹æ¯”åº¦å¥½[m
[32m+[m[32m- ğŸ¤ **éŸ³é¢‘**: æ¸…æ™°ã€æ— å™ªéŸ³ã€16kHzé‡‡æ ·ç‡[m
[32m+[m
[32m+[m[32m#### 4.2 è·å–æµ‹è¯•æ•°æ®[m
[32m+[m
[32m+[m[32m**æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨å…¬å¼€æ•°æ®é›†**[m
[32m+[m[32m```bash[m
[32m+[m[32m# ä¸‹è½½AD-NeRFæ•°æ®é›†æ ·æœ¬ï¼ˆæ¨èï¼‰[m
[32m+[m[32mmkdir -p test_data[m
[32m+[m[32mcd test_data[m
[32m+[m
[32m+[m[32m# ä½¿ç”¨wgetæˆ–curlä¸‹è½½æµ‹è¯•è§†é¢‘[m
[32m+[m[32m# ç¤ºä¾‹ï¼šObamaæ¼”è®²è§†é¢‘[m
[32m+[m[32mwget https://example.com/obama_sample.mp4[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m**æ–¹æ¡ˆäºŒï¼šè‡ªåˆ¶æµ‹è¯•è§†é¢‘**[m
[32m+[m[32m```bash[m
[32m+[m[32m# ä½¿ç”¨ffmpegå¤„ç†è§†é¢‘[m
[32m+[m[32mffmpeg -i input.mp4 -vf "scale=1280:720" -c:v libx264 -preset slow -crf 18 \[m
[32m+[m[32m       -c:a aac -b:a 192k -ar 16000 output.mp4[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m#### 4.3 æ”¾ç½®æµ‹è¯•æ•°æ®[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# åˆ›å»ºæµ‹è¯•æ•°æ®ç›®å½•[m
[32m+[m[32mmkdir -p ../test_data[m
[32m+[m[32mcp your_video.mp4 ../test_data/test_video.mp4[m
[32m+[m
[32m+[m[32m# éªŒè¯è§†é¢‘ä¿¡æ¯[m
[32m+[m[32mffprobe ../test_data/test_video.mp4[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m### ç¬¬5æ­¥ï¼šæ‰§è¡Œå®Œæ•´è®­ç»ƒæµç¨‹[m
[32m+[m
[32m+[m[32m#### 5.1 æµ‹è¯•æ¨¡å¼ï¼ˆæ¨èå…ˆæµ‹è¯•ï¼‰[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# ä½¿ç”¨æµ‹è¯•æ¨¡å¼éªŒè¯è„šæœ¬é€»è¾‘ï¼ˆä¸çœŸæ­£è¿è¡ŒDockerï¼‰[m
[32m+[m[32mTEST_MODE=1 ./run_gaussiantalker.sh train \[m
[32m+[m[32m    --video_path ../test_data/test_video.mp4 \[m
[32m+[m[32m    --gpu GPU0 \[m
[32m+[m[32m    --iterations 1000 \[m
[32m+[m[32m    --config arguments/64_dim_1_transformer.py[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m#### 5.2 æ­£å¼è®­ç»ƒï¼ˆé¦–æ¬¡å°è§„æ¨¡æµ‹è¯•ï¼‰[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# é¦–æ¬¡è®­ç»ƒå»ºè®®ä½¿ç”¨è¾ƒå°‘è¿­ä»£æ•°ï¼ˆ1000-2000ï¼‰[m
[32m+[m[32m./run_gaussiantalker.sh train \[m
[32m+[m[32m    --video_path ../test_data/test_video.mp4 \[m
[32m+[m[32m    --gpu GPU0 \[m
[32m+[m[32m    --iterations 2000 \[m
[32m+[m[32m    --config arguments/64_dim_1_transformer.py[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m**è®­ç»ƒè¿‡ç¨‹ç›‘æ§**ï¼š[m
[32m+[m[32m```bash[m
[32m+[m[32m# åœ¨å¦ä¸€ä¸ªç»ˆç«¯ç›‘æ§GPUä½¿ç”¨æƒ…å†µ[m
[32m+[m[32mwatch -n 1 nvidia-smi[m
[32m+[m
[32m+[m[32m# æŸ¥çœ‹Dockerå®¹å™¨æ—¥å¿—[m
[32m+[m[32mdocker ps  # è·å–å®¹å™¨ID[m
[32m+[m[32mdocker logs -f <container_id>[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m#### 5.3 æ£€æŸ¥è®­ç»ƒç»“æœ[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# è®­ç»ƒå®Œæˆåæ£€æŸ¥è¾“å‡º[m
[32m+[m[32mls -la ./GaussianTalker/data/test_video/[m
[32m+[m[32mls -la ./GaussianTalker/output/test_video/[m
[32m+[m
[32m+[m[32m# æŸ¥çœ‹ç‚¹äº‘æ–‡ä»¶[m
[32m+[m[32mls -la ./GaussianTalker/output/test_video/point_cloud/[m
[32m+[m
[32m+[m[32m# æ£€æŸ¥è®­ç»ƒæ—¥å¿—[m
[32m+[m[32mcat ./GaussianTalker/output/test_video/log.txt[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m---[m
[32m+[m
[32m+[m[32m## ğŸ”§ åˆ†æ­¥éª¤æ‰§è¡Œï¼ˆé«˜çº§ç”¨æ³•ï¼‰[m
[32m+[m
[32m+[m[32mæœ‰æ—¶ä½ å¯èƒ½éœ€è¦åˆ†æ­¥éª¤æ‰§è¡Œè®­ç»ƒæµç¨‹ï¼Œä»¥ä¾¿æ›´å¥½åœ°æ§åˆ¶å’Œè°ƒè¯•ã€‚[m
[32m+[m
[32m+[m[32m### æ­¥éª¤Aï¼šä»…é¢„å¤„ç†[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# åªæ‰§è¡Œæ•°æ®é¢„å¤„ç†ï¼Œä¸è®­ç»ƒ[m
[32m+[m[32m./run_gaussiantalker.sh preprocess_only \[m
[32m+[m[32m    --video_path ../test_data/test_video.mp4 \[m
[32m+[m[32m    --gpu GPU0[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m**é¢„å¤„ç†è¾“å‡º**ï¼š[m
[32m+[m[32m- `data/test_video/ori_imgs/` - åŸå§‹å¸§å›¾åƒ[m
[32m+[m[32m- `data/test_video/gt_imgs/` - Ground truthå›¾åƒ[m
[32m+[m[32m- `data/test_video/parsing/` - äººè„¸åˆ†å‰²mask[m
[32m+[m[32m- `data/test_video/torso_imgs/` - èº¯å¹²å›¾åƒ[m
[32m+[m[32m- `data/test_video/aud.wav` - æå–çš„éŸ³é¢‘[m
[32m+[m[32m- `data/test_video/aud_ds.npy` - DeepSpeechç‰¹å¾[m
[32m+[m[32m- `data/test_video/au.csv` - é¢éƒ¨åŠ¨ä½œå•å…ƒ[m
[32m+[m[32m- `data/test_video/transforms_train.json` - ç›¸æœºå‚æ•°[m
[32m+[m
[32m+[m[32m### æ­¥éª¤Bï¼šä»…è®­ç»ƒ[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# ä½¿ç”¨å·²é¢„å¤„ç†çš„æ•°æ®è¿›è¡Œè®­ç»ƒ[m
[32m+[m[32m./run_gaussiantalker.sh train_only \[m
[32m+[m[32m    --data_dir test_video \[m
[32m+[m[32m    --gpu GPU0 \[m
[32m+[m[32m    --iterations 10000 \[m
[32m+[m[32m    --config arguments/64_dim_1_transformer.py[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m### æ­¥éª¤Cï¼šæ¨¡å‹æ¨ç†[m
[32m+[m
[32m+[m[32m#### C.1 å‡†å¤‡æ¨ç†éŸ³é¢‘[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# å‡†å¤‡é©±åŠ¨éŸ³é¢‘ï¼ˆå¿…é¡»æ˜¯.wavæ ¼å¼ï¼‰[m
[32m+[m[32mcp your_speech.wav ./GaussianTalker/data/test_video/speech.wav[m
[32m+[m
[32m+[m[32m# æå–DeepSpeechç‰¹å¾[m
[32m+[m[32mdocker run --rm --gpus device=0 \[m
[32m+[m[32m    -v $(pwd)/GaussianTalker/data:/GaussianTalker/data \[m
[32m+[m[32m    gaussiantalker:latest \[m
[32m+[m[32m    python data_utils/deepspeech_features/extract_ds_features.py \[m
[32m+[m[32m    /GaussianTalker/data/test_video/speech.wav \[m
[32m+[m[32m    /GaussianTalker/data/test_video/speech.npy[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m#### C.2 æ‰§è¡Œæ¨ç†[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ç”Ÿæˆè§†é¢‘[m
[32m+[m[32m./run_gaussiantalker.sh infer \[m
[32m+[m[32m    --model_dir test_video \[m
[32m+[m[32m    --audio_path ./GaussianTalker/data/test_video/speech.wav \[m
[32m+[m[32m    --gpu GPU0 \[m
[32m+[m[32m    --batch_size 128 \[m
[32m+[m[32m    --iteration 10000[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m#### C.3 æŸ¥çœ‹ç”Ÿæˆè§†é¢‘[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# æ¨ç†ç»“æœä½ç½®[m
[32m+[m[32mOUTPUT_VIDEO="./GaussianTalker/output/test_video/custom/ours_10000/renders/output.mp4"[m
[32m+[m
[32m+[m[32m# æ’­æ”¾è§†é¢‘ï¼ˆLinuxï¼‰[m
[32m+[m[32mvlc $OUTPUT_VIDEO[m
[32m+[m
[32m+[m[32m# æˆ–å¤åˆ¶åˆ°staticç›®å½•ä¾›Webç•Œé¢è®¿é—®[m
[32m+[m[32mcp $OUTPUT_VIDEO ../static/videos/gaussiantalker_output.mp4[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m---[m
[32m+[m
[32m+[m[32m## ğŸ¯ å‚æ•°ä¼˜åŒ–æŒ‡å—[m
[32m+[m
[32m+[m[32m### è®­ç»ƒå‚æ•°è°ƒä¼˜[m
[32m+[m
[32m+[m[32m#### 1. è¿­ä»£æ¬¡æ•°ï¼ˆiterationsï¼‰[m
[32m+[m
[32m+[m[32m| è¿­ä»£æ•° | è®­ç»ƒæ—¶é—´ | è´¨é‡ | é€‚ç”¨åœºæ™¯ |[m
[32m+[m[32m|--------|----------|------|----------|[m
[32m+[m[32m| 1000-2000 | 15-30åˆ†é’Ÿ | ä½ | å¿«é€Ÿæµ‹è¯• |[m
[32m+[m[32m| 5000-7000 | 1-1.5å°æ—¶ | ä¸­ | åˆæ­¥è®­ç»ƒ |[m
[32m+[m[32m| 10000 | 2-3å°æ—¶ | é«˜ | æ ‡å‡†è®­ç»ƒ |[m
[32m+[m[32m| 15000-20000 | 3-5å°æ—¶ | å¾ˆé«˜ | é«˜è´¨é‡è¾“å‡º |[m
[32m+[m
[32m+[m[32m**æ¨è**ï¼šé¦–æ¬¡æµ‹è¯•ç”¨2000ï¼Œæ­£å¼è®­ç»ƒç”¨10000ã€‚[m
[32m+[m
[32m+[m[32m#### 2. é…ç½®æ–‡ä»¶é€‰æ‹©[m
[32m+[m
[32m+[m[32m**`arguments/64_dim_1_transformer.py`**ï¼ˆæ¨èï¼‰[m
[32m+[m[32m- âœ… è®­ç»ƒé€Ÿåº¦å¿«[m
[32m+[m[32m- âœ… æ˜¾å­˜å ç”¨å°‘[m
[32m+[m[32m- âœ… è´¨é‡è‰¯å¥½[m
[32m+[m[32m- é€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯[m
[32m+[m
[32m+[m[32m**`arguments/64_dim_2_transformer.py`**[m
[32m+[m[32m- âœ… è´¨é‡æ›´é«˜[m
[32m+[m[32m- âš ï¸ è®­ç»ƒé€Ÿåº¦æ…¢20-30%[m
[32m+[m[32m- âš ï¸ æ˜¾å­˜å ç”¨æ›´å¤š[m
[32m+[m[32m- é€‚ç”¨äºè¿½æ±‚æè‡´è´¨é‡[m
[32m+[m
[32m+[m[32m#### 3. GPUä¸æ‰¹å¤„ç†å¤§å°[m
[32m+[m
[32m+[m[32m**æ¨ç†batch_sizeå»ºè®®**ï¼š[m
[32m+[m
[32m+[m[32m| GPUå‹å· | VRAM | batch_size |[m
[32m+[m[32m|---------|------|------------|[m
[32m+[m[32m| RTX 3090 | 24GB | 128-256 |[m
[32m+[m[32m| RTX 4090 | 24GB | 256-512 |[m
[32m+[m[32m| A100 | 40GB | 512-1024 |[m
[32m+[m[32m| RTX 3080 | 10GB | 64-128 |[m
[32m+[m[32m| RTX 3070 | 8GB | 32-64 |[m
[32m+[m
[32m+[m[32m**æ˜¾å­˜ä¸è¶³ï¼Ÿ**[m
[32m+[m[32m```bash[m
[32m+[m[32m# å‡å°batch_size[m
[32m+[m[32m./run_gaussiantalker.sh infer \[m
[32m+[m[32m    --model_dir test_video \[m
[32m+[m[32m    --audio_path speech.wav \[m
[32m+[m[32m    --batch_size 64  # ä»128é™åˆ°64[m
[32m+[m[32m```[m
[32m+[m
[32m+[m[32m---[m
[32m+[m
[32m+[m[32m## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥[m
[32m+[m
[32m+[m[32m### é—®é¢˜1ï¼šDockeræ„å»ºå¤±è´¥[m
[32m+[m
[32m+[m[32m**ç—‡çŠ¶**: `docker build`è¿‡ç¨‹ä¸­æŠ¥é”™[m
[32m+[m
[32m+[m[32m**å¯èƒ½åŸå› å’Œè§£å†³æ–¹æ¡ˆ**ï¼š[m
[32m+[m
[32m+[m[32m```bash[m
[32m+[m[32m# 1. ç½‘ç»œé—®é¢˜ - ä½¿ç”¨é•œåƒåŠ é€Ÿ[m
[32m+[m[32m# ç¼–è¾‘ /etc/docker/daemon.json[m
[32m+[m[32m{[m
[32m+[m[32m  "registry-mirrors": [[m
[32m+[m[32m    "https://docker.mirrors.ustc.edu.cn",[m
[32m+[m[32m    "https://registry.docker-cn.com"[m
[32m+[m[32m  ][m
[32m+[m[32m}[m
[32m+[m[32msudo systemctl restart docker[m
[32m+[m
[32m+[m[32m# 2. ç£ç›˜ç©ºé—´ä¸è¶³[m
[32m+[m[32mdf -h[m
[32m+[m[32mdocker system prune -a  # æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ[m
[32m+[m
[32m+[m[32m# 3. CUDAç‰ˆæœ¬ä¸åŒ¹é…[m
[32m+[m[32mnvidia-smi  # æ£€æŸ¥é©±åŠ¨ç‰ˆæœ¬[m
[32m+[m[32m# å¯èƒ½éœ€è¦ä¿®æ”¹Dockerfileä¸­çš„CUDAç‰ˆæœ¬[m
[